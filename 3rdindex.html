import React, { useState, useEffect, useRef } from 'react';
import { ArrowDown, Instagram, Mail, Phone, ArrowUpRight, Menu, X, Linkedin } from 'lucide-react';

// --- Custom Hooks & Utility Components ---

const useElementOnScreen = (options) => {
  const containerRef = useRef(null);
  const [isVisible, setIsVisible] = useState(false);

  useEffect(() => {
    const observer = new IntersectionObserver((entries) => {
      const [entry] = entries;
      if (entry.isIntersecting) {
        setIsVisible(true);
        observer.unobserve(entry.target);
      }
    }, options);

    if (containerRef.current) observer.observe(containerRef.current);
    return () => {
      if (containerRef.current) observer.unobserve(containerRef.current);
    };
  }, [containerRef, options]);

  return [containerRef, isVisible];
};

const Reveal = ({ children, delay = 0, className = '' }) => {
  const [ref, isVisible] = useElementOnScreen({ threshold: 0.1, rootMargin: '0px 0px -50px 0px' });
  
  return (
    <div
      ref={ref}
      style={{ transitionDelay: `${delay}ms` }}
      className={`transition-all duration-1000 ease-out ${
        isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-12'
      } ${className}`}
    >
      {children}
    </div>
  );
};

// --- Main Application ---

export default function App() {
  const [isScrolled, setIsScrolled] = useState(false);
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      setIsScrolled(window.scrollY > 50);
    };
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const scrollTo = (id) => {
    setMobileMenuOpen(false);
    const element = document.getElementById(id);
    if (element) {
      element.scrollIntoView({ behavior: 'smooth' });
    }
  };

  return (
    <div className="font-sans text-[#1A332B] bg-[#F7F5F0] overflow-x-hidden selection:bg-[#1A332B] selection:text-[#F7F5F0]">
      {/* --- Global Styles --- */}
      <style dangerouslySetInnerHTML={{__html: `
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&family=Playfair+Display:ital,wght@1,400;1,600&family=Alex+Brush&display=swap');
        
        body {
          font-family: 'Plus Jakarta Sans', sans-serif;
          scroll-behavior: smooth;
        }

        .bg-growth-pattern {
          background-image: url("data:image/svg+xml,%3Csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 100 Q 250 50 500 150 T 1000 50' fill='none' stroke='%231A332B' stroke-width='1' stroke-opacity='0.05' /%3E%3Cpath d='M0 200 Q 300 100 600 200 T 1200 100' fill='none' stroke='%231A332B' stroke-width='1' stroke-opacity='0.05' /%3E%3C/svg%3E");
          background-size: cover;
          background-position: center;
        }

        /* High Visibility Text Styling with Accent Color and Enhanced Back Shadow */
        .brand-title {
          color: #2D5A4C; 
          text-shadow: 0px 10px 30px rgba(0, 0, 0, 0.4);
          letter-spacing: -0.02em;
        }

        .cursive-slogan {
          font-family: 'Alex Brush', cursive;
          color: #2D5A4C; 
          text-shadow: 0px 4px 15px rgba(0, 0, 0, 0.3);
        }
      `}} />

      {/* --- Navigation --- */}
      <nav className={`fixed w-full z-50 transition-all duration-500 ${isScrolled ? 'bg-[#ddede3]/95 backdrop-blur-md py-4 shadow-sm' : 'bg-transparent py-6'}`}>
        <div className="max-w-7xl mx-auto px-6 md:px-12 flex justify-between items-center">
          <div 
            onClick={() => scrollTo('hero')}
            className={`cursor-pointer font-bold tracking-widest text-xl z-50 transition-colors duration-300 ${!isScrolled && !mobileMenuOpen ? 'text-white' : 'text-[#1A332B]'}`}
          >
            PALMGROWW.
          </div>
          
          <div className={`hidden md:flex space-x-10 text-[10px] uppercase tracking-[0.3em] font-bold transition-colors duration-300 ${!isScrolled ? 'text-white/80 hover:text-white' : 'text-[#1A332B]/70 hover:text-[#1A332B]'}`}>
            <button onClick={() => scrollTo('about')} className="hover:opacity-60 transition-opacity">About</button>
            <button onClick={() => scrollTo('founders')} className="hover:opacity-60 transition-opacity">Founders</button>
            <button onClick={() => scrollTo('contact')} className="hover:opacity-60 transition-opacity">Contact</button>
            
          </div>

          <button className="md:hidden z-50" onClick={() => setMobileMenuOpen(!mobileMenuOpen)}>
            {mobileMenuOpen ? <X className="text-[#1A332B] w-6 h-6" /> : <Menu className={`w-6 h-6 ${!isScrolled ? 'text-white' : 'text-[#1A332B]'}`} />}
          </button>
        </div>

        <div className={`fixed inset-0 bg-[#F7F5F0] z-40 flex flex-col items-center justify-center space-y-8 transition-transform duration-500 ease-in-out ${mobileMenuOpen ? 'translate-y-0' : '-translate-y-full'}`}>
          <button onClick={() => scrollTo('about')} className="text-2xl tracking-widest text-[#1A332B] font-bold">ABOUT</button>
          <button onClick={() => scrollTo('founders')} className="text-2xl tracking-widest text-[#1A332B] font-bold">FOUNDERS</button>
          <button onClick={() => scrollTo('contact')} className="text-2xl tracking-widest text-[#1A332B] font-bold">CONTACT</button>
        </div>
      </nav>

      {/* --- 1. Hero Section (Fixed Wallpaper) --- */}
      <section id="hero" className="relative h-screen w-full flex items-center justify-center overflow-hidden">
        <div className="absolute inset-0 w-full h-full">
          {/* Subtle overlay to help text stand out */}
          <div className="absolute inset-0 bg-white/20 z-10" />
          <img 
            src="https://images.pexels.com/photos/383484/pexels-photo-383484.jpeg" 
            alt="Minimalist Palm Tree against sky" 
            className="w-full h-full object-cover object-center scale-100 scale-105 transition-transform duration-[2s] ease-out"
          />
        </div>

        <div className="relative z-20 text-center flex flex-col items-center w-full px-4">
          <Reveal delay={150}>
            <h1 className="text-5xl md:text-[6.5rem] lg:text-[9rem] font-extrabold brand-title leading-none">
              PALMGROWW
            </h1>
          </Reveal>
          
          <Reveal delay={400}>
            <p className="mt-2 text-2xl md:text-4xl lg:text-5xl cursive-slogan">
              Where Creators Groww & Brands Connect
            </p>
          </Reveal>
        </div>

        <div className="absolute bottom-10 left-1/2 -translate-x-1/2 z-20 flex flex-col items-center">
          <div className="w-[1px] h-12 bg-gradient-to-b from-[#2D5A4C] to-transparent animate-pulse" />
        </div>
      </section>

      {/* --- 2. About Section --- */}
      <section id="about" className="relative py-32 md:py-48 bg-white overflow-hidden">
        <div className="absolute inset-0 bg-growth-pattern opacity-40 pointer-events-none" />
        
        <div className="max-w-5xl mx-auto px-6 md:px-12 relative z-10">
          <Reveal>
            <h2 className="text-[10px] uppercase tracking-[0.5em] text-[#1A332B]/40 font-bold mb-10">
             — MISSION
            </h2>
          </Reveal>
          
          <Reveal delay={200}>
            <h3 className="text-4xl md:text-6xl leading-[1.1] font-light text-[#1A332B]">
              Palmgroww is a high-end influencer marketing agency connecting creators and brands through <span className="font-bold italic">data-driven</span> and authentic collaborations.
            </h3>
          </Reveal>
          
          <Reveal delay={400}>
            <p className="mt-12 text-lg md:text-xl text-[#1A332B]/60 max-w-2xl font-light leading-relaxed">
              We help creators grow their reach and revenue while helping brands connect with precisely targeted audiences.
            </p>
          </Reveal>

          <div className="mt-24 grid grid-cols-1 md:grid-cols-2 gap-12 pt-16 border-t border-[#1A332B]/10">
            <Reveal delay={100}>
              <div>
                <div className="text-6xl md:text-8xl font-bold text-[#1A332B] tracking-tighter">
                  5500<span className="text-[#1A332B]/20">+</span>
                </div>
                <div className="mt-2 text-[10px] uppercase tracking-[0.3em] text-[#1A332B]/50 font-bold">
                  Influencer Network
                </div>
              </div>
            </Reveal>
            
            <Reveal delay={300}>
              <div>
                <div className="text-6xl md:text-8xl font-bold text-[#1A332B] tracking-tighter">
                  110<span className="text-[#1A332B]/20">+</span>
                </div>
                <div className="mt-2 text-[10px] uppercase tracking-[0.3em] text-[#1A332B]/50 font-bold">
                  Brand Partners
                </div>
              </div>
            </Reveal>
          </div>
        </div>
      </section>

      {/* --- 3. Founders Section --- */}
      <section id="founders" className="py-32 md:py-48 bg-[#F7F5F0]">
        <div className="max-w-7xl mx-auto px-6 md:px-12">
          <Reveal>
            <div className="mb-24">
              <h2 className="text-[10px] uppercase tracking-[0.5em] text-[#1A332B]/40 font-bold mb-4">
              — LEADERSHIP
              </h2>
              <h3 className="text-5xl font-light text-[#1A332B]">Meet the Founders</h3>
            </div>
          </Reveal>

          <div className="grid grid-cols-1 md:grid-cols-2 gap-20">
            <Reveal delay={200}>
              <div className="group">
                <div className="aspect-[3/4] overflow-hidden bg-gray-200 mb-8 rounded-sm">
                  <img 
                    src="https://i.pinimg.com/736x/67/b3/4c/67b34c04acc17e5d82600c1328795812.jpg" 
                    alt="Mohit" 
                    className="w-full h-full object-cover grayscale transition-all duration-700 group-hover:grayscale-0 group-hover:scale-105"
                  />
                </div>
                <h4 className="text-2xl font-bold text-[#1A332B]">Mohit</h4>
                <p className="mt-4 text-[#1A332B]/60 font-light leading-relaxed">
                  "At Palmgroww, we treat growth as an ecosystem. We build the environment where creativity and commerce thrive together."
                </p>
              </div>
            </Reveal>

            <Reveal delay={400}>
              <div className="group md:mt-32">
                <div className="aspect-[3/4] overflow-hidden bg-gray-200 mb-8 rounded-sm">
                  <img 
                    src="https://i.pinimg.com/1200x/b7/c4/2d/b7c42d117599781807d4c9b51834246d.jpg" 
                    alt="Divik" 
                    className="w-full h-full object-cover grayscale transition-all duration-700 group-hover:grayscale-0 group-hover:scale-105"
                  />
                </div>
                <h4 className="text-2xl font-bold text-[#1A332B]">Divik</h4>
                <p className="mt-4 text-[#1A332B]/60 font-light leading-relaxed">
                  "Connection is our core. We bridge the gap between digital influence and real-world brand performance."
                </p>
              </div>
            </Reveal>
          </div>
        </div>
      </section>

      {/* --- 4. Contact Section --- */}
      <section id="contact" className="py-32 bg-[#1A332B] text-white">
        <div className="max-w-7xl mx-auto px-6 md:px-12">
          <Reveal>
            <h2 className="text-[10px] uppercase tracking-[0.5em] text-white/30 font-bold mb-20">
            — CONTACT
            </h2>
          </Reveal>

          <div className="grid grid-cols-1 lg:grid-cols-2 gap-24">
            <div>
              <Reveal delay={100}>
                <h3 className="text-5xl md:text-8xl font-light mb-16 tracking-tighter">
                  Let's Connect.
                </h3>
              </Reveal>
              
              <div className="space-y-12">
                <Reveal delay={200}>
                  <a href="mailto:hello@palmgroww.com" className="group block">
                    <span className="text-xs uppercase tracking-[0.3em] text-white/40 block mb-2 font-bold">Email</span>
                    <span className="text-2xl md:text-4xl font-light flex items-center group-hover:pl-4 transition-all">
                      contact@palmgroww.in <ArrowUpRight className="ml-4 w-6 h-6 opacity-0 group-hover:opacity-100 transition-opacity" />
                    </span>
                  </a>
                </Reveal>

                <Reveal delay={300}>
                  <a href="tel:+123456789" className="group block">
                    <span className="text-xs uppercase tracking-[0.3em] text-white/40 block mb-2 font-bold">Inquiries</span>
                    <span className="text-2xl md:text-4xl font-light flex items-center group-hover:pl-4 transition-all">
                      +1 (555) 000-0000 <ArrowUpRight className="ml-4 w-6 h-6 opacity-0 group-hover:opacity-100 transition-opacity" />
                    </span>
                  </a>
                </Reveal>
              </div>
            </div>

            <div className="flex flex-col justify-end">
              <Reveal delay={400}>
                <div className="flex space-x-12 mb-20">
                  <a href="#" className="hover:text-white/50 transition-colors"><Instagram className="w-8 h-8" /></a>
                  <a href="#" className="hover:text-white/50 transition-colors"><Linkedin className="w-8 h-8" /></a>
                </div>
              </Reveal>
              
              <footer className="pt-8 border-t border-white/10 flex flex-col md:flex-row justify-between text-[10px] uppercase tracking-[0.2em] text-white/40 font-bold">
                <p>&copy; {new Date().getFullYear()} PALMGROWW AGENCY</p>
                <div className="mt-4 md:mt-0 flex space-x-6">
                  <a href="#">Privacy</a>
                  <a href="#">Terms</a>
                </div>
              </footer>
            </div>
          </div>
        </div>
      </section>
    </div>
  );
}
